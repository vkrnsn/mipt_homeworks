# Домашние задания по предмету "Системы хранения и обработки данных"

## Prerequisites

Для запуска PostgreSQL:

```
docker compose up
```

Для запуска jupyterlab:

```
poetry install
poetry run jupyter lab
```

## ДЗ 1

### Структура

![Схема](img/schema.png)

### Нормализация

Исходная таблица "transaction":
- находится в 1НФ, 2НФ нарушена зависимостью продуктовых аттрибутов от product_id
- приводится к 3НФ за счет выделения аттрибутов продукта в отдельную таблицу.
Таблица продукта также требует введения аттрибута первичного ключа, чтобы соответствовать 3НФ.

Исходная таблица "сustomer":
- находится во 2НФ, т.к. каждое неключевое поле зависит от первичного ключа,
но при этом оценка собственности, вероятно, зависит от адреса, что приводит к транзитивной зависимости
- приводится к 3НФ за счет выделения аттрибутов адреса в отдельную таблицу, что также позволит одному пользователю иметь несколько адресов.

### Создание таблиц

[Скрипты](scripts/01_init_db.sql)

### Загрузка данных

[Ноутбук](notebooks/populate_db.ipynb) для подготовки и загрузки данных

![addresses](img/addresses.png)
![customers](img/customers.png)
![products](img/products.png)
![transactions](img/transactions.png)

## ДЗ 2

Запросы можно найти в ноутбуке [hw2](notebooks/hw2.ipynb)

Предварительно необходимо создать БД 'hw2':

```sql
CREATE DATABASE hw2
```
